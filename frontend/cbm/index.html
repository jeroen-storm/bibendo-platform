<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBM Assessment - Bibendo Platform</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/cbm.css">
</head>
<body>
    <div class="cbm-container">
        <!-- Timer (top right corner) -->
        <div class="timer-display">
            <span id="timerDisplay">2:00</span>
        </div>

        <!-- Main CBM Assessment -->
        <div id="assessment" class="cbm-assessment">
            <div class="cloze-text" id="clozeText">
                <!-- Cloze test content will be inserted here -->
            </div>
        </div>

        <!-- White fade overlay (hidden initially) -->
        <div id="fadeOverlay" class="fade-overlay" style="display: none;"></div>

        <!-- Results popup (hidden initially) -->
        <div id="resultsPopup" class="results-popup" style="display: none;">
            <div class="results-content">
                <h2>Klaar! Goed gedaan.</h2>
                <p class="results-instruction">Ga nu met het pijltje linksboven terug naar je berichtenlijst.</p>
            </div>
        </div>
    </div>

    <script src="../assets/js/cbm.js"></script>
    <script>
        // Initialize CBM Assessment - direct start
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('userId') || 'anonymous-' + Date.now();
            const textId = urlParams.get('textId') || '0'; // Default to practice text
            
            window.cbmAssessment = new CBMAssessment(userId, textId);
        });
    </script>
</body>
</html>